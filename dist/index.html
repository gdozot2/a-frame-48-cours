<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>VR</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="bundle.js"></script>
  </head>
  <body>
    <a-scene astats>
      <a-box hover-highlighter cursor-listener aanimate-rotation="speed: 10; axe: y" position="1 1 -5" material="color: red"></a-box>
      <a-box id="click-me"
        cursor-listener
        aanimate-rotation__y="speed: 10; axe: y"
        aanimate-rotation__x="speed: 10; axe: x"
        position="3 0 -5"
        material="color: green"
        hover-highlighter
      ></a-box>

      <gd-box
        size="1"
        color="blue"
        position="2 0 -2"
        cursor-listener
        hover-highlighter>
      </gd-box>

      <a-entity
        position="0 1.25 -2"
        animation__open="startEvents: open; property: rotation.y; to: 90; dur: 2000; easing: linear; loop: false"
        animation__close="startEvents: close; property: rotation.y; to: 0; dur: 2000; easing: linear; loop: false"
        listen-to__open="evt: open; target: #door1; emit: open"
        listen-to__close="evt: close; target: #door1; emit: close"
      >
        <a-box
          id="door1"
          depth="0.2"
          width="1.25"
          height="2.5"
          color="pink"
          position="0.675 0 0"
          cursor-listener
          hover-highlighter
          toggle-events="evt1: open; evt2: close"
          emit-when-near="target: #head; distance: 2; event: click; eventFar: unclick"
        ></a-box>
      </a-entity>

      <a-entity id="camera-rig">
        <a-entity id="head"
          camera
          wasd-controls="acceleration: 10"
          look-controls="pointerLockEnabled: true"
          position="0 1.6 0"
        >
          <a-entity
            geometry="primitive: circle; radius: 0.0005"
            material="shader: flat; color: black"
            position="0 0 -0.1"
            visible="true"
            cursor
            raycaster="far: 10; objects: [cursor-listener]"
          ></a-entity>
        </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
